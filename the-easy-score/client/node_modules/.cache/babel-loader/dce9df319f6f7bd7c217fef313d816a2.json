{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import Fuse from\"fuse.js\";import{setInstructors}from\"../../../actions/fetchDataActions\";import{setKeywordFilterValue,setLevelFilterValue,setCreditsFilterValue,setTimeFilterValue,setRequirementsFilterValue,setInstructorsKeywordFilterValue,setInstructorsFuse,fuseResetFiltersExceptNextSemester}from\"../../../actions/filtersActions\";import{FormControl}from\"react-bootstrap\";var ProfessorSearch=function ProfessorSearch(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var fuse=new Fuse(props.coursePage.instructors,{keys:[\"name\"]});var results=fuse.search(query);var instructorsResults=query?results.map(function(instructor){return instructor.item;}):props.coursePage.instructors;var handleChange=function handleChange(e){props.fuseResetFiltersExceptNextSemester();setQuery(e.target.value);};useEffect(function(){if(query===\"\"&&props.coursePage.filters.next_sem===0){props.setInstructors(props.coursePage.instructors);}else if(query===\"\"&&props.coursePage.filters.next_sem===1){props.setInstructors(props.coursePage.instructors.filter(function(instructor){return instructor.is_teaching_next_semester===1;}));}else if(props.coursePage.filters.next_sem===1){props.setInstructorsFuse(instructorsResults.filter(function(instructor){return instructor.is_teaching_next_semester===1;}));}else{props.setInstructorsFuse(instructorsResults);}},[query]);return/*#__PURE__*/_jsx(FormControl,{className:\"profSearch\",value:query,onChange:handleChange,placeholder:\"Search for professor\",name:\"profSearch\",id:\"searchForm\"});};var mapStateToProps=function mapStateToProps(state){return{coursePage:state.coursePage};};export default connect(mapStateToProps,{setKeywordFilterValue:setKeywordFilterValue,setLevelFilterValue:setLevelFilterValue,setCreditsFilterValue:setCreditsFilterValue,setTimeFilterValue:setTimeFilterValue,setRequirementsFilterValue:setRequirementsFilterValue,setInstructorsKeywordFilterValue:setInstructorsKeywordFilterValue,setInstructorsFuse:setInstructorsFuse,setInstructors:setInstructors,fuseResetFiltersExceptNextSemester:fuseResetFiltersExceptNextSemester})(ProfessorSearch);","map":{"version":3,"sources":["/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/src/screens/coursepage/components/ProfessorSearch.js"],"names":["React","useState","useEffect","connect","Fuse","setInstructors","setKeywordFilterValue","setLevelFilterValue","setCreditsFilterValue","setTimeFilterValue","setRequirementsFilterValue","setInstructorsKeywordFilterValue","setInstructorsFuse","fuseResetFiltersExceptNextSemester","FormControl","ProfessorSearch","props","query","setQuery","fuse","coursePage","instructors","keys","results","search","instructorsResults","map","instructor","item","handleChange","e","target","value","filters","next_sem","filter","is_teaching_next_semester","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Fuse from \"fuse.js\";\n\nimport { setInstructors } from \"../../../actions/fetchDataActions\";\n\nimport {\n  setKeywordFilterValue,\n  setLevelFilterValue,\n  setCreditsFilterValue,\n  setTimeFilterValue,\n  setRequirementsFilterValue,\n  setInstructorsKeywordFilterValue,\n  setInstructorsFuse,\n  fuseResetFiltersExceptNextSemester,\n} from \"../../../actions/filtersActions\";\n\nimport { FormControl } from \"react-bootstrap\";\n\nconst ProfessorSearch = (props) => {\n  const [query, setQuery] = useState(\"\");\n\n  const fuse = new Fuse(props.coursePage.instructors, {\n    keys: [\"name\"],\n  });\n  const results = fuse.search(query);\n  const instructorsResults = query\n    ? results.map((instructor) => instructor.item)\n    : props.coursePage.instructors;\n\n  const handleChange = (e) => {\n    props.fuseResetFiltersExceptNextSemester();\n    setQuery(e.target.value);\n  };\n\n  useEffect(() => {\n    if (query === \"\" && props.coursePage.filters.next_sem === 0) {\n      props.setInstructors(props.coursePage.instructors);\n    } else if (query === \"\" && props.coursePage.filters.next_sem === 1) {\n      props.setInstructors(\n        props.coursePage.instructors.filter((instructor) => {\n          return instructor.is_teaching_next_semester === 1;\n        })\n      );\n    } else if (props.coursePage.filters.next_sem === 1) {\n      props.setInstructorsFuse(\n        instructorsResults.filter((instructor) => {\n          return instructor.is_teaching_next_semester === 1;\n        })\n      );\n    } else {\n      props.setInstructorsFuse(instructorsResults);\n    }\n  }, [query]);\n\n  return (\n    <FormControl\n      className=\"profSearch\"\n      value={query}\n      onChange={handleChange}\n      placeholder=\"Search for professor\"\n      name=\"profSearch\"\n      id=\"searchForm\"\n    />\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    coursePage: state.coursePage,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setKeywordFilterValue,\n  setLevelFilterValue,\n  setCreditsFilterValue,\n  setTimeFilterValue,\n  setRequirementsFilterValue,\n  setInstructorsKeywordFilterValue,\n  setInstructorsFuse,\n  setInstructors,\n  fuseResetFiltersExceptNextSemester,\n})(ProfessorSearch);\n"]},"metadata":{},"sourceType":"module"}