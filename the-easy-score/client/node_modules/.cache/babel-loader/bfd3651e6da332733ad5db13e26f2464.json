{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect,useDispatch}from\"react-redux\";import{fetchResults,setCourses}from\"../../actions/fetchDataActions\";import{setNavStyle,setFooterStyle,setShowModal}from\"../../actions/\";import{useParams}from\"react-router-dom\";import{filterToKeyword}from\"./hooks/\";import NoResults from\"../../components/NoResults\";import Loading from\"../../components/Loading\";import ResultsNumber from\"../../components/ResultsNumber\";import Courses from\"./components/Courses\";import TablePagination from\"../../components/TablePagination\";import SearchForm from\"../../components/SearchForm\";import MobileSearch from\"./components/MobileSearch\";import FiltersModal from\"../../components/FiltersModal\";import FiltersCard from\"./components/filters/FiltersCard\";import{Button}from\"react-bootstrap\";import Hidden from\"@material-ui/core/Hidden\";import\"./results.css\";var Results=function Results(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),keyword=_useState2[0],setKeyword=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var coursesPerPage=12;var params=useParams();var dispatch=useDispatch();useEffect(function(){dispatch(fetchResults(params.axiosUrl));dispatch(setCourses(props.courses));filterToKeyword(params.axiosUrl,setKeyword);props.setNavStyle(2);props.setFooterStyle(2);setCurrentPage(1);},[]);useEffect(function(){dispatch(fetchResults(params.axiosUrl));dispatch(setCourses(props.courses));filterToKeyword(params.axiosUrl,setKeyword);setCurrentPage(1);},[params.axiosUrl]);var indexOfLastCourse=currentPage*coursesPerPage;var indexOfFirstCourse=indexOfLastCourse-coursesPerPage;var currentCourses=props.displayedCourses.slice(indexOfFirstCourse,indexOfLastCourse);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};var handleModal=function handleModal(e){e.preventDefault();props.setShowModal(!props.showModal);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 mr-0 row w-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col w-100\",children:[/*#__PURE__*/_jsxs(Hidden,{smDown:true,children:[/*#__PURE__*/_jsx(SearchForm,{nav:false}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsxs(Hidden,{mdUp:true,children:[/*#__PURE__*/_jsx(MobileSearch,{}),/*#__PURE__*/_jsx(Button,{className:\"homeFilterBtn homeModalBtn shadow-none\",onClick:handleModal,block:true,children:\"Filters\"}),/*#__PURE__*/_jsx(FiltersModal,{})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:props.isLoading===true?/*#__PURE__*/_jsx(\"div\",{className:\"row w-100 justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col justify-content-center align-items-center d-flex justify-content-center align-items-center mt-5\",children:/*#__PURE__*/_jsx(Loading,{})})}):/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12\",children:/*#__PURE__*/_jsx(FiltersCard,{setCurrentPage:setCurrentPage})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-9 col-lg-9 col-md-8 col-sm-12 col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col mb-4\",children:/*#__PURE__*/_jsx(ResultsNumber,{number:props.displayedCourses.length,results:\"courses\",keyword:keyword,header:0})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:props.displayedCourses.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",children:[/*#__PURE__*/_jsx(Courses,{currentCourses:currentCourses}),props.isLoading===false?/*#__PURE__*/_jsx(TablePagination,{count:Math.ceil(props.displayedCourses.length/3),page:currentPage,rowsPerPage:4,rowsPerPageOptions:[4],paginate:paginate}):null]}):/*#__PURE__*/ //********  RENDER NO RESULTS IF NO RESULTS  *******/\n_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ml-10\",children:/*#__PURE__*/_jsx(NoResults,{})})})})]})]})})]});};var mapStateToProps=function mapStateToProps(state){return{isLoading:state.isLoading,courses:state.courses,displayedCourses:state.displayedCourses,errorText:state.errorText,footerStyle:state.footerStyle,showModal:state.showModal};};export default connect(mapStateToProps,{fetchResults:fetchResults,setCourses:setCourses,setNavStyle:setNavStyle,setFooterStyle:setFooterStyle,setShowModal:setShowModal})(Results);","map":{"version":3,"sources":["/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/src/screens/searchresults/Results.js"],"names":["React","useEffect","useState","connect","useDispatch","fetchResults","setCourses","setNavStyle","setFooterStyle","setShowModal","useParams","filterToKeyword","NoResults","Loading","ResultsNumber","Courses","TablePagination","SearchForm","MobileSearch","FiltersModal","FiltersCard","Button","Hidden","Results","props","keyword","setKeyword","currentPage","setCurrentPage","coursesPerPage","params","dispatch","axiosUrl","courses","indexOfLastCourse","indexOfFirstCourse","currentCourses","displayedCourses","slice","paginate","pageNumber","handleModal","e","preventDefault","showModal","isLoading","length","Math","ceil","mapStateToProps","state","errorText","footerStyle"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { fetchResults, setCourses } from \"../../actions/fetchDataActions\";\nimport { setNavStyle, setFooterStyle, setShowModal } from \"../../actions/\";\nimport { useParams } from \"react-router-dom\";\n\nimport { filterToKeyword } from \"./hooks/\";\n\nimport NoResults from \"../../components/NoResults\";\nimport Loading from \"../../components/Loading\";\nimport ResultsNumber from \"../../components/ResultsNumber\";\nimport Courses from \"./components/Courses\";\nimport TablePagination from \"../../components/TablePagination\";\n\nimport SearchForm from \"../../components/SearchForm\";\nimport MobileSearch from \"./components/MobileSearch\";\nimport FiltersModal from \"../../components/FiltersModal\";\n\nimport FiltersCard from \"./components/filters/FiltersCard\";\n\nimport { Button } from \"react-bootstrap\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nimport \"./results.css\";\n\nconst Results = (props) => {\n  const [keyword, setKeyword] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const coursesPerPage = 12;\n  const params = useParams();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchResults(params.axiosUrl));\n    dispatch(setCourses(props.courses));\n    filterToKeyword(params.axiosUrl, setKeyword);\n    props.setNavStyle(2);\n    props.setFooterStyle(2);\n    setCurrentPage(1);\n  }, []);\n\n  useEffect(() => {\n    dispatch(fetchResults(params.axiosUrl));\n    dispatch(setCourses(props.courses));\n    filterToKeyword(params.axiosUrl, setKeyword);\n    setCurrentPage(1);\n  }, [params.axiosUrl]);\n\n  const indexOfLastCourse = currentPage * coursesPerPage;\n  const indexOfFirstCourse = indexOfLastCourse - coursesPerPage;\n  const currentCourses = props.displayedCourses.slice(\n    indexOfFirstCourse,\n    indexOfLastCourse\n  );\n\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  const handleModal = (e) => {\n    e.preventDefault();\n    props.setShowModal(!props.showModal);\n  };\n\n  return (\n    <div className=\"container w-100\">\n      <div className=\"mt-3 mr-0 row w-100\">\n        <div className=\"col w-100\">\n          <Hidden smDown>\n            <SearchForm nav={false} />\n            <hr></hr>\n          </Hidden>\n          <Hidden mdUp>\n            <MobileSearch />\n            <Button\n              className=\"homeFilterBtn homeModalBtn shadow-none\"\n              onClick={handleModal}\n              block\n            >\n              Filters\n            </Button>\n            <FiltersModal />\n          </Hidden>\n        </div>\n      </div>\n      <div>\n        {props.isLoading === true ? (\n          <div className=\"row w-100 justify-content-center align-items-center\">\n            <div className=\"col justify-content-center align-items-center d-flex justify-content-center align-items-center mt-5\">\n              <Loading />\n            </div>\n          </div>\n        ) : (\n          <div className=\"row mt-5\">\n            <div className=\"col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12\">\n              <FiltersCard setCurrentPage={setCurrentPage} />\n            </div>\n            <div className=\"col-xl-9 col-lg-9 col-md-8 col-sm-12 col-12\">\n              <div className=\"row\">\n                <div className=\"col mb-4\">\n                  <ResultsNumber\n                    number={props.displayedCourses.length}\n                    results={\"courses\"}\n                    keyword={keyword}\n                    header={0}\n                  />\n                </div>\n              </div>\n              <div className=\"row\">\n                {props.displayedCourses.length > 0 ? (\n                  <div className=\"w-100\">\n                    <Courses currentCourses={currentCourses} />\n                    {props.isLoading === false ? (\n                      <TablePagination\n                        count={Math.ceil(props.displayedCourses.length / 3)}\n                        page={currentPage}\n                        rowsPerPage={4}\n                        rowsPerPageOptions={[4]}\n                        paginate={paginate}\n                      />\n                    ) : null}\n                  </div>\n                ) : (\n                  //********  RENDER NO RESULTS IF NO RESULTS  *******/\n                  <div className=\"container\">\n                    <div className=\"ml-10\">\n                      <NoResults />\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isLoading: state.isLoading,\n    courses: state.courses,\n    displayedCourses: state.displayedCourses,\n    errorText: state.errorText,\n    footerStyle: state.footerStyle,\n    showModal: state.showModal,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchResults,\n  setCourses,\n  setNavStyle,\n  setFooterStyle,\n  setShowModal,\n})(Results);\n"]},"metadata":{},"sourceType":"module"}