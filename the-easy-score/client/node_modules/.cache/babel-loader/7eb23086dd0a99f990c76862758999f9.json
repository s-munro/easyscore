{"ast":null,"code":"import axios from \"axios\"; // REDUCERS ** exports\n\nexport const FETCH_DATA_START = \"FETCH_DATA_START\";\nexport const FETCH_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const SET_COURSES_ON_PAGE = \"SET_COURSES_ON_PAGE\";\nexport const FETCH_COURSE_PAGE_SUCCESS = \"FETCH_COURSE_PAGE_SUCCESS\";\nexport const SET_INSTRUCTORS_ON_PAGE = \"SET_INSTRUCTORS_ON_PAGE\"; // SEARCH PAGE **\n\nexport const fetchResults = url => dispatch => {\n  dispatch({\n    type: FETCH_DATA_START\n  });\n  axios.get(`https://theeasyscore.com/results&jsonquery=${url}`).then(res => {\n    dispatch({\n      type: FETCH_DATA_SUCCESS,\n      payload: res.data.courses\n    });\n    dispatch({\n      type: SET_COURSES_ON_PAGE,\n      payload: res.data.courses.sort(function (a, b) {\n        return b.rating - a.rating;\n      })\n    });\n  }).catch(err => {\n    dispatch({\n      type: FETCH_DATA_FAILURE,\n      payload: err.message\n    });\n  });\n};\nexport const setCourses = courses => {\n  return {\n    type: SET_COURSES_ON_PAGE,\n    payload: courses.sort(function (a, b) {\n      return b.rating - a.rating;\n    })\n  };\n}; // COURSE PAGE\n\nexport const setInstructors = instructors => {\n  return {\n    type: SET_INSTRUCTORS_ON_PAGE,\n    payload: instructors.sort(function (a, b) {\n      return b.rating - a.rating;\n    })\n  };\n};\nexport const fetchCoursePage = full_code => dispatch => {\n  dispatch({\n    type: FETCH_DATA_START\n  });\n  axios.get(`https://theeasyscore.com/results&jsonquery/course=${full_code}`).then(res => {\n    dispatch({\n      type: FETCH_COURSE_PAGE_SUCCESS,\n      payload: res.data.course\n    });\n    const nextSemesterProfessors = res.data.course.instructors.filter(professor => {\n      return professor.is_teaching_next_semester === 1;\n    });\n    dispatch({\n      type: SET_INSTRUCTORS_ON_PAGE,\n      payload: nextSemesterProfessors.sort(function (a, b) {\n        return b.rating - a.rating;\n      })\n    });\n  }).catch(err => {\n    dispatch({\n      type: FETCH_DATA_FAILURE\n    });\n  });\n};","map":{"version":3,"sources":["/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/src/actions/fetchDataActions.js"],"names":["axios","FETCH_DATA_START","FETCH_DATA_SUCCESS","FETCH_DATA_FAILURE","SET_COURSES_ON_PAGE","FETCH_COURSE_PAGE_SUCCESS","SET_INSTRUCTORS_ON_PAGE","fetchResults","url","dispatch","type","get","then","res","payload","data","courses","sort","a","b","rating","catch","err","message","setCourses","setInstructors","instructors","fetchCoursePage","full_code","course","nextSemesterProfessors","filter","professor","is_teaching_next_semester"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\n// REDUCERS ** exports\nexport const FETCH_DATA_START = \"FETCH_DATA_START\";\nexport const FETCH_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const SET_COURSES_ON_PAGE = \"SET_COURSES_ON_PAGE\";\nexport const FETCH_COURSE_PAGE_SUCCESS = \"FETCH_COURSE_PAGE_SUCCESS\";\nexport const SET_INSTRUCTORS_ON_PAGE = \"SET_INSTRUCTORS_ON_PAGE\";\n\n// SEARCH PAGE **\n\nexport const fetchResults = (url) => (dispatch) => {\n  dispatch({ type: FETCH_DATA_START });\n\n  axios\n    .get(`https://theeasyscore.com/results&jsonquery=${url}`)\n    .then((res) => {\n      dispatch({ type: FETCH_DATA_SUCCESS, payload: res.data.courses });\n      dispatch({\n        type: SET_COURSES_ON_PAGE,\n        payload: res.data.courses.sort(function (a, b) {\n          return b.rating - a.rating;\n        }),\n      });\n    })\n    .catch((err) => {\n      dispatch({ type: FETCH_DATA_FAILURE, payload: err.message });\n    });\n};\n\nexport const setCourses = (courses) => {\n  return {\n    type: SET_COURSES_ON_PAGE,\n    payload: courses.sort(function (a, b) {\n      return b.rating - a.rating;\n    }),\n  };\n};\n\n// COURSE PAGE\nexport const setInstructors = (instructors) => {\n  return {\n    type: SET_INSTRUCTORS_ON_PAGE,\n    payload: instructors.sort(function (a, b) {\n      return b.rating - a.rating;\n    }),\n  };\n};\n\nexport const fetchCoursePage = (full_code) => (dispatch) => {\n  dispatch({ type: FETCH_DATA_START });\n\n  axios\n    .get(`https://theeasyscore.com/results&jsonquery/course=${full_code}`)\n    .then((res) => {\n      dispatch({ type: FETCH_COURSE_PAGE_SUCCESS, payload: res.data.course });\n      const nextSemesterProfessors = res.data.course.instructors.filter(\n        (professor) => {\n          return professor.is_teaching_next_semester === 1;\n        }\n      );\n      dispatch({\n        type: SET_INSTRUCTORS_ON_PAGE,\n        payload: nextSemesterProfessors.sort(function (a, b) {\n          return b.rating - a.rating;\n        }),\n      });\n    })\n    .catch((err) => {\n      dispatch({ type: FETCH_DATA_FAILURE });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}