{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/src/screens/coursepage/components/ProfessorSearch.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Fuse from \"fuse.js\";\nimport { setInstructors } from \"../../../actions/fetchDataActions\";\nimport { setKeywordFilterValue, setLevelFilterValue, setCreditsFilterValue, setTimeFilterValue, setRequirementsFilterValue, setInstructorsKeywordFilterValue, setInstructorsFuse, fuseResetFiltersExceptNextSemester } from \"../../../actions/filtersActions\";\nimport { FormControl } from \"react-bootstrap\";\n\nconst ProfessorSearch = props => {\n  _s();\n\n  const [query, setQuery] = useState(\"\");\n  const fuse = new Fuse(props.coursePage.instructors, {\n    keys: [\"name\"]\n  });\n  const results = fuse.search(query);\n  const instructorsResults = query ? results.map(instructor => instructor.item) : props.coursePage.instructors;\n\n  const handleChange = e => {\n    props.fuseResetFiltersExceptNextSemester();\n    setQuery(e.target.value);\n  };\n\n  useEffect(() => {\n    if (query === \"\" && props.coursePage.filters.next_sem === 0) {\n      props.setInstructors(props.coursePage.instructors);\n    } else if (query === \"\" && props.coursePage.filters.next_sem === 1) {\n      props.setInstructors(props.coursePage.instructors.filter(instructor => {\n        return instructor.is_teaching_next_semester === 1;\n      }));\n    } else if (props.coursePage.filters.next_sem === 1) {\n      props.setInstructorsFuse(instructorsResults.filter(instructor => {\n        return instructor.is_teaching_next_semester === 1;\n      }));\n    } else {\n      props.setInstructorsFuse(instructorsResults);\n    }\n  }, [query]);\n  return /*#__PURE__*/_jsxDEV(FormControl, {\n    className: \"profSearch\",\n    value: query,\n    onChange: handleChange,\n    placeholder: \"Search for professor\",\n    name: \"profSearch\",\n    id: \"searchForm\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfessorSearch, \"CCuvaKRud86EhT+STbWOVtMtgh8=\");\n\n_c = ProfessorSearch;\n\nconst mapStateToProps = state => {\n  return {\n    coursePage: state.coursePage\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setKeywordFilterValue,\n  setLevelFilterValue,\n  setCreditsFilterValue,\n  setTimeFilterValue,\n  setRequirementsFilterValue,\n  setInstructorsKeywordFilterValue,\n  setInstructorsFuse,\n  setInstructors,\n  fuseResetFiltersExceptNextSemester\n})(ProfessorSearch);\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfessorSearch\");","map":{"version":3,"sources":["/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/src/screens/coursepage/components/ProfessorSearch.js"],"names":["React","useState","useEffect","connect","Fuse","setInstructors","setKeywordFilterValue","setLevelFilterValue","setCreditsFilterValue","setTimeFilterValue","setRequirementsFilterValue","setInstructorsKeywordFilterValue","setInstructorsFuse","fuseResetFiltersExceptNextSemester","FormControl","ProfessorSearch","props","query","setQuery","fuse","coursePage","instructors","keys","results","search","instructorsResults","map","instructor","item","handleChange","e","target","value","filters","next_sem","filter","is_teaching_next_semester","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Fuse from \"fuse.js\";\n\nimport { setInstructors } from \"../../../actions/fetchDataActions\";\n\nimport {\n  setKeywordFilterValue,\n  setLevelFilterValue,\n  setCreditsFilterValue,\n  setTimeFilterValue,\n  setRequirementsFilterValue,\n  setInstructorsKeywordFilterValue,\n  setInstructorsFuse,\n  fuseResetFiltersExceptNextSemester,\n} from \"../../../actions/filtersActions\";\n\nimport { FormControl } from \"react-bootstrap\";\n\nconst ProfessorSearch = (props) => {\n  const [query, setQuery] = useState(\"\");\n\n  const fuse = new Fuse(props.coursePage.instructors, {\n    keys: [\"name\"],\n  });\n  const results = fuse.search(query);\n  const instructorsResults = query\n    ? results.map((instructor) => instructor.item)\n    : props.coursePage.instructors;\n\n  const handleChange = (e) => {\n    props.fuseResetFiltersExceptNextSemester();\n    setQuery(e.target.value);\n  };\n\n  useEffect(() => {\n    if (query === \"\" && props.coursePage.filters.next_sem === 0) {\n      props.setInstructors(props.coursePage.instructors);\n    } else if (query === \"\" && props.coursePage.filters.next_sem === 1) {\n      props.setInstructors(\n        props.coursePage.instructors.filter((instructor) => {\n          return instructor.is_teaching_next_semester === 1;\n        })\n      );\n    } else if (props.coursePage.filters.next_sem === 1) {\n      props.setInstructorsFuse(\n        instructorsResults.filter((instructor) => {\n          return instructor.is_teaching_next_semester === 1;\n        })\n      );\n    } else {\n      props.setInstructorsFuse(instructorsResults);\n    }\n  }, [query]);\n\n  return (\n    <FormControl\n      className=\"profSearch\"\n      value={query}\n      onChange={handleChange}\n      placeholder=\"Search for professor\"\n      name=\"profSearch\"\n      id=\"searchForm\"\n    />\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    coursePage: state.coursePage,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setKeywordFilterValue,\n  setLevelFilterValue,\n  setCreditsFilterValue,\n  setTimeFilterValue,\n  setRequirementsFilterValue,\n  setInstructorsKeywordFilterValue,\n  setInstructorsFuse,\n  setInstructors,\n  fuseResetFiltersExceptNextSemester,\n})(ProfessorSearch);\n"]},"metadata":{},"sourceType":"module"}