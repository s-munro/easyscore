{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{connect,useDispatch}from\"react-redux\";import{setNavStyle,setFooterStyle}from\"../../actions/index\";import{fetchCoursePage}from\"../../actions/fetchDataActions\";import Header from\"./components/Header\";import Loading from\"../../components/Loading\";import ResultsNumber from\"../../components/ResultsNumber\";import ProfessorSearch from\"./components/ProfessorSearch\";import ProfFiltersCard from\"./components/filters/ProfFiltersCard\";import Professors from\"./components/Professors\";import TablePagination from\"../../components/TablePagination\";var Course=function Course(props){var params=useParams();var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var instructorsPerPage=5;useEffect(function(){dispatch(fetchCoursePage(params.courseid));props.setNavStyle(3);props.setFooterStyle(2);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);/******  PAGINATION  ******/var indexOfLastInstructor=currentPage*instructorsPerPage;var indexOfFirstInstructor=indexOfLastInstructor-instructorsPerPage;var currentInstructors=props.coursePage.displayedInstructors.slice(indexOfFirstInstructor,indexOfLastInstructor);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};/*****  END PAGINATION  *****/return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:props.isLoading===true?/*#__PURE__*/_jsx(\"div\",{style:{height:\"100vh\"},className:\"row w-100 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Loading,{})})}):/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Header,{course:props.coursePage.course})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(ResultsNumber,{number:props.coursePage.displayedInstructors.length,results:\"instructors\",full_code:props.coursePage.course.full_code,course_name:props.coursePage.course.name,header:1})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col padding-0\",children:/*#__PURE__*/_jsx(ProfessorSearch,{})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-5 d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-4 col-md-0 col-sm-12 col-12\",children:/*#__PURE__*/_jsx(ProfFiltersCard,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-9 col-lg-8 col-md-8 col-sm-12 col-12 w-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row w-100 profCardContainer d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Professors,{currentInstructors:currentInstructors})}),props.isLoading===false?/*#__PURE__*/_jsx(\"div\",{className:\"row paginationContainer\",children:/*#__PURE__*/_jsx(TablePagination,{count:props.coursePage.displayedInstructors.length,page:currentPage,rowsPerPage:5,rowsPerPageOptions:[1],paginate:paginate})}):null]})]})]})});};var mapStateToProps=function mapStateToProps(state){return{isLoading:state.isLoading,errorText:state.errorText,coursePage:state.coursePage,footerStyle:state.footerStyle};};export default connect(mapStateToProps,{fetchCoursePage:fetchCoursePage,setNavStyle:setNavStyle,setFooterStyle:setFooterStyle})(Course);","map":{"version":3,"sources":["/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/src/screens/coursepage/Course.js"],"names":["React","useEffect","useState","useParams","connect","useDispatch","setNavStyle","setFooterStyle","fetchCoursePage","Header","Loading","ResultsNumber","ProfessorSearch","ProfFiltersCard","Professors","TablePagination","Course","props","params","dispatch","currentPage","setCurrentPage","instructorsPerPage","courseid","indexOfLastInstructor","indexOfFirstInstructor","currentInstructors","coursePage","displayedInstructors","slice","paginate","pageNumber","isLoading","height","course","length","full_code","name","mapStateToProps","state","errorText","footerStyle"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { setNavStyle, setFooterStyle } from \"../../actions/index\";\nimport { fetchCoursePage } from \"../../actions/fetchDataActions\";\n\nimport Header from \"./components/Header\";\nimport Loading from \"../../components/Loading\";\nimport ResultsNumber from \"../../components/ResultsNumber\";\nimport ProfessorSearch from \"./components/ProfessorSearch\";\nimport ProfFiltersCard from \"./components/filters/ProfFiltersCard\";\nimport Professors from \"./components/Professors\";\nimport TablePagination from \"../../components/TablePagination\";\n\nconst Course = (props) => {\n  const params = useParams();\n  const dispatch = useDispatch();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const instructorsPerPage = 5;\n\n  useEffect(() => {\n    dispatch(fetchCoursePage(params.courseid));\n    props.setNavStyle(3);\n    props.setFooterStyle(2);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /******  PAGINATION  ******/\n  const indexOfLastInstructor = currentPage * instructorsPerPage;\n  const indexOfFirstInstructor = indexOfLastInstructor - instructorsPerPage;\n  const currentInstructors = props.coursePage.displayedInstructors.slice(\n    indexOfFirstInstructor,\n    indexOfLastInstructor\n  );\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n  /*****  END PAGINATION  *****/\n  return (\n    <div className=\"container\">\n      {props.isLoading === true ? (\n        <div\n          style={{ height: \"100vh\" }}\n          className=\"row w-100 d-flex justify-content-center\"\n        >\n          <div className=\"col d-flex justify-content-center align-items-center\">\n            <Loading />\n          </div>\n        </div>\n      ) : (\n        <div className=\"container\">\n          <div className=\"row\">\n            <Header course={props.coursePage.course} />\n          </div>\n          <hr />\n          <div className=\"row\">\n            <ResultsNumber\n              number={props.coursePage.displayedInstructors.length}\n              results={\"instructors\"}\n              full_code={props.coursePage.course.full_code}\n              course_name={props.coursePage.course.name}\n              header={1}\n            />\n          </div>\n          <div className=\"row\">\n            <div className=\"col padding-0\">\n              <ProfessorSearch />\n            </div>\n          </div>\n          <div className=\"row mt-5 d-flex justify-content-center\">\n            <div className=\"col-xl-3 col-lg-4 col-md-0 col-sm-12 col-12\">\n              <ProfFiltersCard />\n            </div>\n            <div className=\"col-xl-9 col-lg-8 col-md-8 col-sm-12 col-12 w-100\">\n              <div className=\"row w-100 profCardContainer d-flex justify-content-center\">\n                <Professors currentInstructors={currentInstructors} />\n              </div>\n              {props.isLoading === false ? (\n                <div className=\"row paginationContainer\">\n                  <TablePagination\n                    count={props.coursePage.displayedInstructors.length}\n                    page={currentPage}\n                    rowsPerPage={5}\n                    rowsPerPageOptions={[1]}\n                    paginate={paginate}\n                  />\n                </div>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isLoading: state.isLoading,\n    errorText: state.errorText,\n    coursePage: state.coursePage,\n    footerStyle: state.footerStyle,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchCoursePage,\n  setNavStyle,\n  setFooterStyle,\n})(Course);\n"]},"metadata":{},"sourceType":"module"}