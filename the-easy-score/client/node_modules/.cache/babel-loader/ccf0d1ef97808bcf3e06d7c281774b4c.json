{"ast":null,"code":"import axios from\"axios\";// REDUCERS ** exports\nexport var FETCH_DATA_START=\"FETCH_DATA_START\";export var FETCH_DATA_SUCCESS=\"FETCH_DATA_SUCCESS\";export var FETCH_DATA_FAILURE=\"FETCH_DATA_FAILURE\";export var SET_COURSES_ON_PAGE=\"SET_COURSES_ON_PAGE\";export var FETCH_COURSE_PAGE_SUCCESS=\"FETCH_COURSE_PAGE_SUCCESS\";export var SET_INSTRUCTORS_ON_PAGE=\"SET_INSTRUCTORS_ON_PAGE\";// SEARCH PAGE **\nexport var fetchResults=function fetchResults(url){return function(dispatch){dispatch({type:FETCH_DATA_START});axios.get(\"https://theeasyscore.com/results&jsonquery=\".concat(url)).then(function(res){dispatch({type:FETCH_DATA_SUCCESS,payload:res.data.courses});dispatch({type:SET_COURSES_ON_PAGE,payload:res.data.courses.sort(function(a,b){return b.rating-a.rating;})});}).catch(function(err){dispatch({type:FETCH_DATA_FAILURE,payload:err.message});});};};export var setCourses=function setCourses(courses){return{type:SET_COURSES_ON_PAGE,payload:courses.sort(function(a,b){return b.rating-a.rating;})};};// COURSE PAGE\nexport var setInstructors=function setInstructors(instructors){return{type:SET_INSTRUCTORS_ON_PAGE,payload:instructors.sort(function(a,b){return b.rating-a.rating;})};};export var fetchCoursePage=function fetchCoursePage(full_code){return function(dispatch){dispatch({type:FETCH_DATA_START});axios.get(\"https://theeasyscore.com/results&jsonquery/course=\".concat(full_code)).then(function(res){dispatch({type:FETCH_COURSE_PAGE_SUCCESS,payload:res.data.course});var nextSemesterProfessors=res.data.course.instructors.filter(function(professor){return professor.is_teaching_next_semester===1;});dispatch({type:SET_INSTRUCTORS_ON_PAGE,payload:nextSemesterProfessors.sort(function(a,b){return b.rating-a.rating;})});}).catch(function(err){dispatch({type:FETCH_DATA_FAILURE});});};};","map":{"version":3,"sources":["/Users/sam4munro/Desktop/webdev/portfolio/easyscore/the-easy-score/src/actions/fetchDataActions.js"],"names":["axios","FETCH_DATA_START","FETCH_DATA_SUCCESS","FETCH_DATA_FAILURE","SET_COURSES_ON_PAGE","FETCH_COURSE_PAGE_SUCCESS","SET_INSTRUCTORS_ON_PAGE","fetchResults","url","dispatch","type","get","then","res","payload","data","courses","sort","a","b","rating","catch","err","message","setCourses","setInstructors","instructors","fetchCoursePage","full_code","course","nextSemesterProfessors","filter","professor","is_teaching_next_semester"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA;AACA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CACP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CACP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CACP,MAAO,IAAMC,CAAAA,mBAAmB,CAAG,qBAA5B,CACP,MAAO,IAAMC,CAAAA,yBAAyB,CAAG,2BAAlC,CACP,MAAO,IAAMC,CAAAA,uBAAuB,CAAG,yBAAhC,CAEP;AAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,QAAS,UAACC,QAAD,CAAc,CACjDA,QAAQ,CAAC,CAAEC,IAAI,CAAET,gBAAR,CAAD,CAAR,CAEAD,KAAK,CACFW,GADH,sDACqDH,GADrD,GAEGI,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbJ,QAAQ,CAAC,CAAEC,IAAI,CAAER,kBAAR,CAA4BY,OAAO,CAAED,GAAG,CAACE,IAAJ,CAASC,OAA9C,CAAD,CAAR,CACAP,QAAQ,CAAC,CACPC,IAAI,CAAEN,mBADC,CAEPU,OAAO,CAAED,GAAG,CAACE,IAAJ,CAASC,OAAT,CAAiBC,IAAjB,CAAsB,SAAUC,CAAV,CAAaC,CAAb,CAAgB,CAC7C,MAAOA,CAAAA,CAAC,CAACC,MAAF,CAAWF,CAAC,CAACE,MAApB,CACD,CAFQ,CAFF,CAAD,CAAR,CAMD,CAVH,EAWGC,KAXH,CAWS,SAACC,GAAD,CAAS,CACdb,QAAQ,CAAC,CAAEC,IAAI,CAAEP,kBAAR,CAA4BW,OAAO,CAAEQ,GAAG,CAACC,OAAzC,CAAD,CAAR,CACD,CAbH,EAcD,CAjB2B,EAArB,CAmBP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACR,OAAD,CAAa,CACrC,MAAO,CACLN,IAAI,CAAEN,mBADD,CAELU,OAAO,CAAEE,OAAO,CAACC,IAAR,CAAa,SAAUC,CAAV,CAAaC,CAAb,CAAgB,CACpC,MAAOA,CAAAA,CAAC,CAACC,MAAF,CAAWF,CAAC,CAACE,MAApB,CACD,CAFQ,CAFJ,CAAP,CAMD,CAPM,CASP;AACA,MAAO,IAAMK,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,WAAD,CAAiB,CAC7C,MAAO,CACLhB,IAAI,CAAEJ,uBADD,CAELQ,OAAO,CAAEY,WAAW,CAACT,IAAZ,CAAiB,SAAUC,CAAV,CAAaC,CAAb,CAAgB,CACxC,MAAOA,CAAAA,CAAC,CAACC,MAAF,CAAWF,CAAC,CAACE,MAApB,CACD,CAFQ,CAFJ,CAAP,CAMD,CAPM,CASP,MAAO,IAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,SAAD,QAAe,UAACnB,QAAD,CAAc,CAC1DA,QAAQ,CAAC,CAAEC,IAAI,CAAET,gBAAR,CAAD,CAAR,CAEAD,KAAK,CACFW,GADH,6DAC4DiB,SAD5D,GAEGhB,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbJ,QAAQ,CAAC,CAAEC,IAAI,CAAEL,yBAAR,CAAmCS,OAAO,CAAED,GAAG,CAACE,IAAJ,CAASc,MAArD,CAAD,CAAR,CACA,GAAMC,CAAAA,sBAAsB,CAAGjB,GAAG,CAACE,IAAJ,CAASc,MAAT,CAAgBH,WAAhB,CAA4BK,MAA5B,CAC7B,SAACC,SAAD,CAAe,CACb,MAAOA,CAAAA,SAAS,CAACC,yBAAV,GAAwC,CAA/C,CACD,CAH4B,CAA/B,CAKAxB,QAAQ,CAAC,CACPC,IAAI,CAAEJ,uBADC,CAEPQ,OAAO,CAAEgB,sBAAsB,CAACb,IAAvB,CAA4B,SAAUC,CAAV,CAAaC,CAAb,CAAgB,CACnD,MAAOA,CAAAA,CAAC,CAACC,MAAF,CAAWF,CAAC,CAACE,MAApB,CACD,CAFQ,CAFF,CAAD,CAAR,CAMD,CAfH,EAgBGC,KAhBH,CAgBS,SAACC,GAAD,CAAS,CACdb,QAAQ,CAAC,CAAEC,IAAI,CAAEP,kBAAR,CAAD,CAAR,CACD,CAlBH,EAmBD,CAtB8B,EAAxB","sourcesContent":["import axios from \"axios\";\n\n// REDUCERS ** exports\nexport const FETCH_DATA_START = \"FETCH_DATA_START\";\nexport const FETCH_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const SET_COURSES_ON_PAGE = \"SET_COURSES_ON_PAGE\";\nexport const FETCH_COURSE_PAGE_SUCCESS = \"FETCH_COURSE_PAGE_SUCCESS\";\nexport const SET_INSTRUCTORS_ON_PAGE = \"SET_INSTRUCTORS_ON_PAGE\";\n\n// SEARCH PAGE **\n\nexport const fetchResults = (url) => (dispatch) => {\n  dispatch({ type: FETCH_DATA_START });\n\n  axios\n    .get(`https://theeasyscore.com/results&jsonquery=${url}`)\n    .then((res) => {\n      dispatch({ type: FETCH_DATA_SUCCESS, payload: res.data.courses });\n      dispatch({\n        type: SET_COURSES_ON_PAGE,\n        payload: res.data.courses.sort(function (a, b) {\n          return b.rating - a.rating;\n        }),\n      });\n    })\n    .catch((err) => {\n      dispatch({ type: FETCH_DATA_FAILURE, payload: err.message });\n    });\n};\n\nexport const setCourses = (courses) => {\n  return {\n    type: SET_COURSES_ON_PAGE,\n    payload: courses.sort(function (a, b) {\n      return b.rating - a.rating;\n    }),\n  };\n};\n\n// COURSE PAGE\nexport const setInstructors = (instructors) => {\n  return {\n    type: SET_INSTRUCTORS_ON_PAGE,\n    payload: instructors.sort(function (a, b) {\n      return b.rating - a.rating;\n    }),\n  };\n};\n\nexport const fetchCoursePage = (full_code) => (dispatch) => {\n  dispatch({ type: FETCH_DATA_START });\n\n  axios\n    .get(`https://theeasyscore.com/results&jsonquery/course=${full_code}`)\n    .then((res) => {\n      dispatch({ type: FETCH_COURSE_PAGE_SUCCESS, payload: res.data.course });\n      const nextSemesterProfessors = res.data.course.instructors.filter(\n        (professor) => {\n          return professor.is_teaching_next_semester === 1;\n        }\n      );\n      dispatch({\n        type: SET_INSTRUCTORS_ON_PAGE,\n        payload: nextSemesterProfessors.sort(function (a, b) {\n          return b.rating - a.rating;\n        }),\n      });\n    })\n    .catch((err) => {\n      dispatch({ type: FETCH_DATA_FAILURE });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}